var app=angular.module("blockcv",["ngRoute"]);app.controller("HomeCtrl",["$scope",function(a){}]),app.controller("StudentCtrl",["$scope",function(a){}]),app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/home",{templateUrl:"app/partials/home.html",controller:"HomeCtrl"}).when("/uni",{templateUrl:"app/partials/uni.html",controller:"HomeCtrl"}).when("/student",{templateUrl:"app/partials/student.html",controller:"HomeCtrl"}).when("/employer",{templateUrl:"app/partials/employer.html",controller:"HomeCtrl"}).when("/employer-results",{templateUrl:"app/partials/employer-results.html",controller:"HomeCtrl"}).otherwise({redirectTo:"/home"})}]),app.factory("BlockCVSvc",["$http",function(a){function b(b){var c={method:"invoke",function:"grant-access",args:[b.studentId,b.employerName],name:j},d=g(c);return a.post(i,d)}function c(b){var c=h(b.name),d={method:"invoke",function:"create-student",args:[c,b],name:j},e=g(d);return a.post(i,e)}function d(b){var c={method:"query",function:"student-get",args:[b],name:j},d=g(c);return a.post(i,d)}function e(b){var c={method:"query",function:"employer-get",args:[b.studentId,b.employerName],name:j},d=g(c);return a.post(i,d)}function f(b){var c={method:"invoke",function:"add-qualification",args:[b.studentId,b.qualification],name:j},d=g(c);return a.post(i,d)}function g(a){if(!a.method)return alert("You must specify an method"),void console.error("You must specify an method");var b={jsonrpc:"2.0",method:a.method,params:{type:1,chaincodeID:{},ctorMsg:{args:["init","a","1000","b","2000"]}},id:1};a.name&&(b.params.chaincodeID.name=a.name),a.path&&(b.params.chaincodeID.path=a.path),b.params.ctorMsg.args=a.args||[],a.function&&b.params.ctorMsg.args.unshift(a.function||"dummy");var c=new Date;return b.id=c.getTime(),b}function h(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode("0x"+b)}))}var i="addr:7050/chaincode",j="234234234234234234234234234";return{getStudentEmployer:e,getStudent:d,addQualification:f,createStudent:c,grantAccess:b}}]);